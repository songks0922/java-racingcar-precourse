package racingcar.controller;import racingcar.domain.CarGameManager;import racingcar.exception.ExceptionMessage;import racingcar.view.InputView;import racingcar.view.OutputView;public class CarGameController {    private final InputView inputView;    private final OutputView outputView;    private CarGameManager carGameManager;    public CarGameController() {        this.inputView = new InputView();        this.outputView = new OutputView();    }    public void start() {        try {            String inputCarNames = inputView.readCarName();            carGameManager = CarGameManager.initCarGame(inputCarNames);        } catch (IllegalArgumentException e) {            outputView.printError(e.getMessage());            start();        }        int count = initTryCount();        progress(count);    }    public int initTryCount() {        int count = 0;        try {            String inputCount = inputView.readTryCount();            validateCount(inputCount);            count = Integer.parseInt(inputCount);        } catch (IllegalArgumentException e) {            outputView.printError(e.getMessage());            initTryCount();        }        return count;    }    public void progress(int count) {        outputView.printResultMessage();        while (count > 0) {            carGameManager.process();            count--;            outputView.printEachResult(carGameManager.eachResult());        }        finish();    }    public void finish() {        outputView.printFinalResult(carGameManager.gameResult());    }    private void validateCount(String count) {        if (!count.chars().allMatch(Character::isDigit)) {            throw new IllegalArgumentException(ExceptionMessage.INPUT_TRY_COUNT_ERROR.getErrorMessage());        }    }}